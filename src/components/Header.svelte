<script>
    // Darkmode Stuff
    import { Mode } from "../stores/darkMode";

    let ColorScheme = "";
    Mode.subscribe( (value) => {
        ColorScheme = value
    } )

    const toggleColorScheme = () => {
        if ( ColorScheme === "dark" ) { Mode.set("light"); }
        else                          { Mode.set("dark");  }
    } 
</script>

<header class="flex jcsb aic">
    <div class="left">
        <button disabled>
            <svg height="24" viewBox="0 -960 960 960" width="24">
                <path class="icons"
                    d="m157.305-480 290.174 290.174q16.434 16.435 16.054 38.826-.381 22.391-16.815 38.826-16.435 16.435-38.946 16.435t-38.946-16.435L64.652-415.348q-13.674-13.674-20.391-30.587-6.717-16.913-6.717-34.065 0-17.152 6.717-34.065 6.717-16.913 20.391-30.587l304.174-304.174q16.435-16.435 39.326-16.055 22.892.381 39.327 16.816 16.434 16.435 16.434 38.945 0 22.511-16.434 38.946L157.305-480Z" />
            </svg>
            <span>Back to Main Menu</span>

        </button>
    </div>

    <div class="right flex">
        <button id="darkmodebtn"
            on:click={toggleColorScheme}>

            {#if ColorScheme == "light"}
                <!-- Moon SVG -->
                <svg height="24" viewBox="0 -960 960 960" width="24">
                    <path class="icons"
                        d="M480.239-116.413q-153.63 0-258.728-104.978Q116.413-326.37 116.413-480q0-133.935 84.739-235.435t223.304-123.043q15.392-3.435 27.544 1.348 12.152 4.782 19.945 14.021 7.794 9.239 9.609 22.196 1.816 12.956-4.75 26.109-13.891 25.043-21.315 51.652-7.424 26.608-7.424 55.5 0 91.694 64.326 155.879 64.325 64.186 156.218 64.186 28.369 0 56.478-7.446 28.109-7.445 50.913-20.576 12.913-5.804 25.13-4.108 12.218 1.695 21.105 8.13 9.874 6.435 14.656 18.229 4.783 11.793 1.587 27.945Q820.174-291 717.63-203.706q-102.543 87.293-237.391 87.293Zm0-91q81.783 0 147.837-43.717 66.054-43.718 98.293-114.783-17.608 4.044-35.097 6.326-17.49 2.283-34.859 1.805-122.043-4.066-207.946-89.37-85.902-85.304-90.445-209.261-.24-17.369 1.923-34.978 2.164-17.609 6.446-34.978-70.826 32.478-114.782 98.652Q207.652-561.543 207.652-480q0 112.929 79.829 192.758 79.829 79.829 192.758 79.829ZM467.13-466.891Z"/>
                </svg>
            {:else}
                <!-- Sun SVG -->
                    <svg height="24" viewBox="0 -960 960 960" width="24">
                        <path class="icons"
                            d="M480-371q45.456 0 77.228-31.772Q589-434.544 589-480q0-45.456-31.772-77.228Q525.456-589 480-589q-45.456 0-77.228 31.772Q371-525.456 371-480q0 45.456 31.772 77.228Q434.544-371 480-371Zm0 91q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM80-434.5q-19.152 0-32.326-13.174T34.5-480q0-19.152 13.174-32.326T80-525.5h80q19.152 0 32.326 13.174T205.5-480q0 19.152-13.174 32.326T160-434.5H80Zm720 0q-19.152 0-32.326-13.174T754.5-480q0-19.152 13.174-32.326T800-525.5h80q19.152 0 32.326 13.174T925.5-480q0 19.152-13.174 32.326T880-434.5h-80Zm-320-320q-19.152 0-32.326-13.174T434.5-800v-80q0-19.152 13.174-32.326T480-925.5q19.152 0 32.326 13.174T525.5-880v80q0 19.152-13.174 32.326T480-754.5Zm0 720q-19.152 0-32.326-13.174T434.5-80v-80q0-19.152 13.174-32.326T480-205.5q19.152 0 32.326 13.174T525.5-160v80q0 19.152-13.174 32.326T480-34.5ZM222.174-673.935l-43-42Q165.5-728.609 166-747.761t13.174-33.065q13.435-13.674 32.587-13.674t32.065 13.674l42.239 43q12.674 13.435 12.555 31.706-.12 18.272-12.555 31.946-12.674 13.674-31.445 13.413-18.772-.261-32.446-13.174Zm494 494.761-42.239-43q-12.674-13.435-12.674-32.087t12.674-31.565Q686.609-299.5 705.38-299q18.772.5 32.446 13.174l43 41.761Q794.5-231.391 794-212.239t-13.174 33.065Q767.391-165.5 748.239-165.5t-32.065-13.674Zm-42-494.761Q660.5-686.609 661-705.38q.5-18.772 13.174-32.446l41.761-43Q728.609-794.5 747.761-794t33.065 13.174q13.674 13.435 13.674 32.587t-13.674 32.065l-43 42.239q-13.435 12.674-31.706 12.555-18.272-.12-31.946-12.555Zm-495 494.761Q165.5-192.609 165.5-211.761t13.674-32.065l43-42.239q13.435-12.674 32.087-12.674t31.565 12.674Q299.5-273.391 299-254.62q-.5 18.772-13.174 32.446l-41.761 43Q231.391-165.5 212.239-166t-33.065-13.174ZM480-480Z" />
                    </svg>
            {/if}

            <span>Switch to { (ColorScheme === "dark") ? "Light" : "Dark" } Mode</span>
        </button>

        <button id="exportbtn">
            <svg height="24" viewBox="0 -960 960 960" width="24">
                <path class="icons"
                    d="M202.87-111.869q-37.783 0-64.392-26.609-26.609-26.609-26.609-64.392V-309q0-19.152 13.174-32.326T157.37-354.5q19.152 0 32.326 13.174T202.87-309v106.13h554.26v-554.26H202.87V-651q0 19.152-13.174 32.326T157.37-605.5q-19.153 0-32.327-13.174T111.869-651v-106.13q0-37.783 26.609-64.392 26.609-26.609 64.392-26.609h554.26q37.783 0 64.392 26.609 26.609 26.609 26.609 64.392v554.26q0 37.783-26.609 64.392-26.609 26.609-64.392 26.609H202.87ZM459.304-434.5H157.37q-19.153 0-32.327-13.174T111.869-480q0-19.152 13.174-32.326T157.37-525.5h301.934l-66.826-66.826q-13.435-13.435-13.054-31.707.38-18.271 13.054-31.945 13.435-13.674 32.087-14.055 18.653-.38 32.326 13.294l144.914 144.674q6.717 6.717 9.815 14.913 3.098 8.195 3.098 17.152t-3.098 17.152q-3.098 8.196-9.815 14.913L456.891-303.022q-13.434 13.435-32.206 13.055-18.772-.381-32.207-14.055-12.674-13.434-13.054-31.826-.381-18.391 13.054-31.826l66.826-66.826Z" />
            </svg>
            <span>Export</span>
        </button>

    </div>
</header>

<style>
    header svg path.icons{
        fill: var(--color-text-1);
    }

    header {
        background-color: var(--color-bg-1);
        border-bottom: 1px solid var(--color-border);
        position: relative;
        z-index: 100;
        padding-block: calc(var(--w-side) / 2);

    }

    header > div {
        margin-inline: var(--w-side);
        gap: 1rem;
    }



    header button {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 0.5rem 0.75rem;
        padding-left: 0.5rem;
        background-color: var(--color-bg-1);
        border: 1px solid var(--color-border);
        border-radius: var(--border-radius);
        gap: 0.5rem;
        cursor: pointer;

        font-size: 0.9rem;
    }

    header button:disabled {
        cursor: not-allowed;
    }

    header button:hover{
        background-color: var(--color-bg-3);
    }


    header button:active{
        background-color: var(--color-bg-2);
        outline: 1px solid var(--color-text-1);
    }

    header button:focus{
        background-color: var(--color-bg-3);
        outline: 1px solid var(--color-text-1);
    }

    header button svg{
        height: 1rem;
        width: 1rem;
    }
</style>